<div class="all-wrapper" #dynamicNodeView>
    <div class="tiny" *ngIf="nodeState == NodeState.TINY; else normalNodeRef">{{ accountId }}</div>
    <ng-template #normalNodeRef>
        <nz-badge [nzCount]="transactionCount" [nzOverflowCount]="100">
            <div class="full-wrapper" [style.border-inline-start-color]="getBorderColor()">
                <div class="wrapper">
                    <span
                        (click)="showDetail()"
                        title="اطلاعات بیشتر"
                        class="more-info"
                        nz-icon
                        nzType="question-circle"
                        nzTheme="outline"
                    ></span>
                    <ng-container [ngSwitch]="accountType">
                        <span
                            title="حساب جاری"
                            *ngSwitchCase="AccountType.CURRENT"
                            nz-icon
                            nzType="wallet"
                            nzTheme="outline"
                        ></span>
                        <span
                            title="حساب سپرده"
                            *ngSwitchCase="AccountType.DEPOSIT"
                            nz-icon
                            nzType="bank"
                            nzTheme="outline"
                        ></span>
                        <span
                            title="حساب پس انداز"
                            *ngSwitchCase="AccountType.SAVINGS"
                            nz-icon
                            nzType="dollar"
                            nzTheme="outline"
                        ></span>
                    </ng-container>
                    <nz-divider nzType="vertical"></nz-divider>
                    <div class="info">
                        <div>
                            <span>:نام</span>
                            <span>{{ ownerName + ' ' + ownerFamilyName }}</span>
                        </div>
                        <!--                        <div>-->
                        <!--                            شعبه: <span>{{ branchName }}</span>-->
                        <!--                        </div>-->
                        <div>
                            <span>:کد ملی</span>
                            <span class="line-height">{{ ownerId }}</span>
                        </div>
                        <div>
                            <span>:شماره حساب</span>
                            <span class="line-height">{{ accountId }}</span>
                        </div>
                    </div>
                </div>
                <div class="detail" [class.expand]="nodeState == NodeState.EXPANDED">
                    <nz-divider></nz-divider>
                    <div>
                        <span>:شعبه</span>
                        <span [title]="branchName">{{ branchName }}</span>
                    </div>
                    <div>
                        <span>:آدرس شعبه</span>
                        <span [title]="branchAddress">{{ branchAddress }}</span>
                    </div>
                    <!--            <nz-divider></nz-divider>-->
                    <div>
                        <span>:تلفن شعبه</span>
                        <span class="line-height" [title]="branchTelephone">{{ branchTelephone }}</span>
                    </div>
                    <!--            <nz-divider></nz-divider>-->
                    <div>
                        <span>:شماره شبا</span>
                        <span class="line-height" [title]="sheba">{{ sheba }}</span>
                    </div>
                    <div>
                        <span>:نوع حساب</span>
                        <span [title]="accountType">{{ accountType }}</span>
                    </div>
                    <div>
                        <span>:شماره کارت</span>
                        <span class="line-height" [title]="cardId">{{ cardId }}</span>
                    </div>
                </div>
            </div>
        </nz-badge>
    </ng-template>
</div>
